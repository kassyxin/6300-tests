# **EZShop APP design -- Student Xin Wang**

##1 Classes

###1.1 Class EZShop

This class contains the mode to check if the customer is inactive, shopping or checking out. 

scan() is a method that launches the scanner to read and return the customer/item/coupon’s QR code. 

startShopping() is a method that initializes customer’s information based on the customer QR code. It also initializes an instance of a ShoppingCart with an empty itemList and a empty couponList. The method also switches ShoppingMode from Inactive to Shopping.

###1.2 Class Customer

This class contains customer’s name, email, and zipcode. 

getCustomerQR() is a method which obtains the customer QR from the scanner. 

The Customer class implements the QRDecode interface. The implemented decodeQRinfo() allows retrieval of the customer’s information including his/her name, email, and zipcode, and assignment of such information to the corresponding attributes. 

It is assumed that the customer QR code is generated by the grocery store management system. 


###1.3 Class ShoppingCart

This class contains the date and time that the shopping cart is created, and the lists of items and coupons. The itemList and couponList are initialized as empty lists.

addItem(item) is a method which launches the scanner so that the customer can present the item QR code to the scanner and retrieve its ID and price, and adds the item to the list of items.

addCoupon(coupon) is a method which launches the scanner so that the customer can present the coupon QR code to the scanner to retrieve the associated item ID and discount, and adds the coupon to the list of coupons.

removeItem(item) is a method which launches the scanner so that the customer can present the QR code of unwanted item to the scanner to retrieve its ID and price, and removes the matching item from the list of items.

checkOut() is a method which operates immediately after the customer presses the “Pay” button on the APP. It switches the ShoppingMode from Shopping to Pay, and instantiates an object of the Order class. 

###1.4 Class Order

This class contains the order ID, the date and time that the order is created.

calculateTotalPrice(cart) is a method which computes the total value of the cart, taking into account the items in the items list (including whether they are alcoholic beverages or not) and the coupons in the coupons list. If an item’s ID starts with “AB” prefix, a special tax will be applied to such items. Otherwise, a regular tax is applied.

createOrderQR(customer, cart) is a method which generates a QR code that encodes the customer’s information, item and coupon lists, and the total value of the cart returned by the calculateTotalPrice(cart) method. The customer can present the order QR code to cashier for verification. 

sendReceipt(customer) is a method which operates after cashier verifies that the total is correct and a payment is made. It then sends the order details including order ID, order date and time, lists of items and coupons, and the total payment amount to the customer’s email address. In the end, it switches customer’s state to inactive. 

###1.5 Class Item

This class contains the item’s ID and price. The item’s ID indicates whether the item is alcoholic beverage or not. If the ID starts with “AB” prefix, it is an alcoholic beverage. 

getItemQR() is a method which obtains the item QR from the scanner. 

It implements the QRDecode interface. The implemented decodeQRinfo() allows retrieval of item’s price and ID, and assignment of such information to corresponding attributes. It is assumed that the item QR code is generated by the grocery store management system. 


###1.6 Class Coupon
This class contains the discounted item’s ID, and the discount to be applied.

getCouponQR() is a method which obtains the coupon QR from the scanner.
 
It implements the QRDecode interface. The implemented decodeQRinfo() allows retrieval of discounted item’s ID and discount, and assignment of such information to corresponding attributes. It is assumed that the coupon QR code has been already generated by the grocery store management system. 


##2 Class Relationships
 
### It is assumed that a customer can have 1 or more shopping carts and places 1 or more orders. 

The Order class uses ShoppingCart to calculate the total payment. 

The shopping cart consists of items and coupons. 

The EZShop class can have 0 to many customers and 0 to many shopping carts.  


